# Платформа для уличного баскетбола

## Основной функционал платформы

### 1. Поиск игр
- **Поиск по карте**: пользователь видит площадки на карте с индикацией, где запланированы игры
- **Поиск по времени**: пользователь указывает удобное время, система показывает доступные игры
- **Фильтры поиска**: 
  - По уровню игры (новичок, средний, опытный)
  - По формату (1×1, 3×3, 5×5)
  - По дистанции от текущего местоположения
  - По доступности (открытые/закрытые игры)

### 2. Детальная информация о площадке
- **Статус площадки**: текущая загруженность
- **Запланированные игры**: список всех предстоящих игр на выбранной площадке
- **Счетчик игроков**: сколько человек сейчас на площадке и сколько планируется
- **Лимит вместимости**: максимальное количество игроков, которое может комфортно играть на площадке

### 3. Создание игры
- **Простая форма создания**:
  - Выбор площадки
  - Дата и время
  - Формат игры
  - Требуемый уровень
  - Максимальное количество участников
- **Предупреждение о пересечении**: если на выбранное время уже запланирована игра, система предупредит
- **Опция координации**: возможность связаться с организатором другой игры для объединения или согласования времени

### 4. Агрегация игр
- **Интеллектуальная загруженность площадки**: система показывает, сколько свободных мест осталось на площадке
- **Визуализация загруженности**: цветовая индикация (зеленый - свободно, желтый - достаточно людей, красный - площадка заполнена)
- **Временная шкала**: график загруженности площадки по часам

### 5. Управление участием
- **Быстрая регистрация**: один клик для присоединения к открытой игре
- **Уведомления**: напоминания о предстоящих играх
- **Отмена участия**: возможность отменить свое участие с уведомлением организатора

## Структура данных

### Коллекция "Пользователи"
```json
{
  "_id": "ObjectId",
  "username": "String",
  "email": "String",
  "passwordHash": "String",
  "profile": {
    "name": "String",
    "age": "Number",
    "position": "String",
    "skillLevel": "String",
    "bio": "String",
    "profilePicture": "String (URL)"
  },
  "settings": {
    "notifications": "Boolean",
    "privacyLevel": "String"
  },
  "createdAt": "Date",
  "lastActive": "Date"
}
```

### Коллекция "Площадки"
```json
{
  "_id": "ObjectId",
  "name": "String",
  "location": {
    "type": "Point",
    "coordinates": [longitude, latitude]
  },
  "capacity": {
    "half_court": "Number",
    "full_court": "Number"
  },
  "courtCount": "Number", // количество отдельных площадок
  "details": {
    "courtType": "String",
    "hasLighting": "Boolean"
  },
  "currentStatus": {
    "estimatedPlayerCount": "Number",
    "lastUpdated": "Date"
  }
}
```

### Коллекция "Игры"
```json
{
  "_id": "ObjectId",
  "court": "ObjectId (ref: Courts)",
  "creator": "ObjectId (ref: Users)",
  "dateTime": {
    "start": "Date",
    "end": "Date"
  },
  "format": "String (1x1, 3x3, 5x5)",
  "courtSection": "String (full, half, specific number)",
  "participants": [
    {
      "user": "ObjectId (ref: Users)",
      "status": "String (confirmed, maybe)"
    }
  ],
  "maxParticipants": "Number",
  "minParticipants": "Number", // минимальное число для начала игры
  "status": "String (planned, in_progress, completed, cancelled)",
  "visibility": "String (open, private)"
}
```

## API эндпоинты

### Пользователи
- `POST /api/users/register` - регистрация
- `POST /api/users/login` - авторизация
- `GET /api/users/profile` - получение профиля
- `PUT /api/users/profile` - обновление профиля

### Площадки
- `GET /api/courts` - получение всех площадок
- `GET /api/courts/nearby?lat=x&lng=y&radius=z` - поиск ближайших площадок
- `GET /api/courts/:id` - детали конкретной площадки
- `POST /api/courts` - добавление новой площадки
- `POST /api/courts/:id/rate` - рейтинг площадки
- `GET /api/courts/:id/status` - текущий статус площадки
- `POST /api/courts/:id/status` - обновление статуса площадки

### Игры
- `GET /api/games` - список всех игр
- `GET /api/games/upcoming` - предстоящие игры
- `GET /api/games/nearby` - игры поблизости
- `GET /api/games/:id` - детали конкретной игры
- `POST /api/games` - создание новой игры
- `PUT /api/games/:id` - обновление игры
- `POST /api/games/:id/join` - присоединение к игре
- `POST /api/games/:id/leave` - выход из игры
- `POST /api/games/:id/cancel` - отмена игры

## Дополнительные функции для MVP

- **Чат игры**: простой групповой чат для участников конкретной игры
- **Быстрая оценка загруженности**: кнопка "Я сейчас здесь" для обновления текущего статуса площадки
- **Рекомендации игр**: система предлагает игры на основе вашей истории и предпочтений
- **Система "Постоянных игр"**: возможность создания регулярных еженедельных игр
- **Поиск замены**: если игрок отменяет участие, система помогает найти замену

## UI/UX особенности

- **Главный экран**: карта с площадками + календарь ближайших игр
- **Простой процесс**: от поиска до присоединения к игре не более 3 кликов
- **Таймлайн дня**: визуализация всех игр на конкретной площадке по времени
- **Быстрые фильтры**: свайп для быстрого переключения между "Рядом со мной", "Сегодня", "На выходных"

## Будущие расширения функционала

### Этап 1: Улучшенные профили и социальные функции

- **Расширенные профили игроков**
  - Статистика посещенных игр
  - Предпочтительные площадки
  - Система достижений (беджи за регулярные игры, разные площадки и т.д.)

- **Базовая социальная сеть**
  - Возможность добавлять друзей
  - Лента активности друзей
  - Приватные сообщения

- **Улучшенная система отзывов**
  - Отзывы об игроках (пунктуальность, спортивное поведение)
  - Более детальные отзывы о площадках

### Этап 2: Командный функционал и соревнования

- **Базовый командный функционал**
  - Создание постоянных команд
  - Профили команд с составом и статистикой
  - Приглашение игроков в команду

- **Простые соревнования**
  - Создание матчей между командами
  - Регистрация результатов
  - Мини-рейтинг команд

- **История игр**
  - Архив прошедших игр с результатами
  - Возможность добавления фотографий с игр
  - Простая статистика (победы/поражения)

### Этап 3: Расширенная аналитика и геймификация

- **Персональная статистика**
  - Отслеживание основных показателей (если игроки сами вводят)
  - Графики активности и прогресса
  - Сравнение с друзьями и средними показателями

- **Система геймификации**
  - Уровни игроков
  - Система очков опыта за активность
  - Сезонные челленджи и награды

- **Интеграция с мобильными устройствами**
  - Счетчик шагов/калорий во время игры
  - Автоматическое определение местоположения
  - Возможность быстрой регистрации на ближайшие игры

## Технический стек

### Frontend (React)
- React.js для построения пользовательского интерфейса
- React Router для навигации
- Redux или Context API для управления состоянием
- Mapbox или Google Maps API для интеграции карт
- Socket.io для реализации чатов и уведомлений в реальном времени

### Backend (Node.js + Express)
- Express.js для API
- Mongoose для работы с MongoDB
- JWT для аутентификации
- Socket.io для реализации реального времени
- Node-cron для обработки регулярных задач

### База данных (MongoDB)
- Коллекции: Пользователи, Площадки, Игры
- Геопространственные индексы
- Агрегации для статистики

### Дополнительные технологии
- AWS S3 или Firebase Storage для хранения изображений
- Firebase Cloud Messaging для push-уведомлений
- Redis для кэширования часто запрашиваемых данных
